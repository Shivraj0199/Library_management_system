{% extends "layout.html" %}
{% block content %}
<div class="card shadow-sm p-4 mx-auto" style="max-width: 600px;">
  <h3 class="mb-4 text-primary fw-bold">Issue Book</h3>

  <form method="post">
    <div class="mb-3">
      <label class="form-label fw-semibold">Select Book</label>
      <select name="book_id" class="form-select shadow-sm" required>
        <option value="" disabled selected>-- Choose a Book --</option>
        {% for b in books %}
        <option value="{{ b.id }}">{{ b.title }} ({{ b.copies }} copies)</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label fw-semibold">Select Member</label>
      <select name="member_id" class="form-select shadow-sm" required>
        <option value="" disabled selected>-- Choose a Member --</option>
        {% for m in members %}
        <option value="{{ m.id }}">{{ m.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label fw-semibold">Issue Date</label>
      <input type="date" name="issue_date" class="form-control shadow-sm" required>
    </div>

    <div class="mb-3">
      <label class="form-label fw-semibold">Due in (Days)</label>
      <input type="number" name="due_days" class="form-control shadow-sm" value="14" min="1" required>
    </div>

    <div class="d-flex justify-content-between mt-4">
      <a href="{{ url_for('issue') }}" class="btn btn-secondary px-4">Back</a>
      <button class="btn btn-primary px-4" type="submit">Issue Book</button>
    </div>
  </form>
</div>
{% endblock %}
